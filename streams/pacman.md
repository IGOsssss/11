# –°—Ç—Ä–∏–º-–ø—Ä–∞–∫—Ç–∏–∫—É–º: –æ–±–µ—â–∞–Ω–∏–µ –ü–∞–∫–º–∞–Ω–∞

–ü–æ–¥–æ–π–¥–µ—Ç —Ç–µ–º, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å —á—Ç–æ —Ç–∞–∫–æ–µ **–ø—Ä–æ–º–∏—Å—ã** –∏ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ** –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ.

# üëç –ß—Ç–æ —Å–¥–µ–ª–∞–µ–º

1. –ó–∞—Å—Ç–∞–≤–∏–º –ü–∞–∫–º–∞–Ω–∞ **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ —è–±–ª–æ–∫–∞.
2. –ü–µ—Ä–µ–ø–∏—à–µ–º –∫–æ–¥ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ **–ø—Ä–æ–º–∏—Å—ã.**
3. –°–æ–∑–¥–∞–¥–∏–º **–ü–∞–∫–º–∞–Ω –±–æ—Ç–∞!**

–ì–æ—Ç–æ–≤ –ø—Ä–∏–Ω—è—Ç—å –≤—ã–∑–æ–≤ –∏ –ø–æ–Ω—è—Ç—å **–æ–±–µ—â–∞–Ω–∏–µ –ü–∞–∫–º–∞–Ω–∞?**

# üí™ –ú–∏–Ω—É—Ç–∫–∞ –º–æ—Ç–∏–≤–∞—Ü–∏–∏

–ü–æ–º–Ω–∏—à—å –∫–∞–∫ —ç—Ç–æ—Ç –ø–∞—Ä–µ–Ω—å –ø–µ–ª ‚Äî **–Ø –µ—Å—Ç—å –ü–∞–∫–º–∞–Ω!?**

–¢—ã –±—É–¥–µ—à—å –ø–µ—Ç—å —Ç–∞–∫ –∂–µ –∫–æ–≥–¥–∞ –ø—Ä–æ–π–¥–µ—à—å —Ç—É—Ç–æ—Ä–∏–∞–ª –¥–æ –∫–æ–Ω—Ü–∞ ü§£

<iframe width="560" height="315" 
src="https://www.youtube.com/embed/Hy8kmNEo1i8?start=5.5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

# üî¢ –®–∞–≥–∏

## +1. –§–æ—Ä–∫–∞–µ–º –ü–∞–∫–º–∞–Ω–∞

- [x] –û—Ç–∫—Ä–æ–π –º–æ–π [–ø—Ä–æ–µ–∫—Ç –Ω–∞ StackBlitz](https://stackblitz.com/edit/promise-pacman?file=index.html)
- [x] –ù–∞–∂–º–∏ –≤ –º–µ–Ω—é —Å–≤–µ—Ä—Ö—É **Fork.**


* ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ **StackBlitz**?
* ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ **Fork**?

## +2. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ü–∞–∫–º–∞–Ω

* [x] –û–±–Ω–æ–≤–∏ –∫–æ–¥ –≤ `index.html` –≤–º–µ—Å—Ç–æ `// your code here`

```js
console.log('start');
const anton = new PacMan(20, 20);
anton.run(2);
anton.turnRight();
anton.run(5);
anton.turnRight();
anton.run(2);
anton.turnLeft();
console.log('finish');
```

* ‚ùì –ö–∞–∫ –∑–æ–≤—É—Ç —Ç–≤–æ–µ–≥–æ –ü–∞–∫–º–∞–Ω–∞?
* ‚ùì –ß—Ç–æ –∑–Ω–∞—á–∏—Ç `new`?
* ‚ùì –ß—Ç–æ –∑–∞ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ `(20, 20)`?
* ‚ùì –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ—Ç–æ–¥ `run(n)`?
* ‚ùì –ß—Ç–æ –¥–µ–ª–∞—é—Ç –º–µ—Ç–æ–¥—ã `turnRight()` –∏ `turnLeft()`?

***

- [x] –ó–∞—Å—Ç–∞–≤—å **–ê–Ω—Ç–æ–Ω–∞** –¥–æ–π—Ç–∏ –¥–æ —è–±–ª–æ–∫–∞.
- [x] –ù–∞–∑–æ–≤–∏ –ü–∞–∫–º–∞–Ω–∞ —Å–≤–æ–∏–º –∏–º–µ–Ω–µ–º.
- [x] –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –∏ –ø—Ä–æ–≤–µ—Ä—å –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π `start` & `finish`

***

## +3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ü–∞–∫–º–∞–Ω

–í —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏:

```js
1: A()
2: B()
3: C()
4: D()
```

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: `A` &rarr; `B` &rarr; `C` &rarr; `D`

–í –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º:

```js
1: A().then(() => { })
2: B().then(() => { })
3: C().then(() => { })
4: D().then(() => { })
```

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã `A`, `B`, `C`, `D` –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

- [x] –û–±–Ω–æ–≤–∏ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `runPacMan()`

```js
console.log('start');
const anton = new PacMan(20, 20);
anton.runWhileCan().then(() => {
    anton.turnRight();
    anton.runWhileCan().then(() => {
        anton.turnRight();
        anton.runWhileCan().then(() => {
            anton.turnLeft();
        });
    });
});
console.log('finish');
```

* ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ `runWhileCan()`?
* ‚ùì –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `runWhileCan()` –æ—Ç `run(n)`?
* ‚ùì –ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `runWhileCan()`?
* ‚ùì –ü–æ—á–µ–º—É –Ω–∞–º –Ω–µ –Ω—É–∂–µ–Ω `then` –¥–ª—è `turnRight` –∏ `turnLeft()`?
* ‚ùì –ü–æ—á–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏–µ `finish` –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –ü–∞–∫–º–∞–Ω–∞?

## +4. –ü–∞–∫–º–∞–Ω –±–æ—Ç

- [x] –û–±–Ω–æ–≤–∏ –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ `runPacMan()`

```js
console.log('start');
const boris = new PacMan(0, 120);
let walked = 0;
const runBot = () => {
    boris.runWhileCan().then(({ steps, finish }) => {
    walked += steps;
    const rnd = Math.round(Math.random() * 10);
    if (!finish) {
        if (rnd % 2 > 0) {
        boris.turnRight();
        } else {
        boris.turnLeft();
        }
        runBot();
    } else {
        console.log('finish with', walked, 'steps');
    }
    });
};
runBot();
```

* ‚ùì –ß—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `rnd`?
* ‚ùì –ß—Ç–æ –≤–µ—Ä–Ω–µ—Ç `7 % 2`, –∞ `8 % 2`?
* ‚ùì –ó–∞ —á—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç `finish` –≤ `then`?
* ‚ùì –ö–∞–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –∫–æ–¥–µ –≤—ã–∑—ã–≤–∞—Ç—å —Å–∞–º–∞ —Å–µ–±—è?

- [x] –í—ã–∑–æ–≤–∏ `runPacMan()` 2 —Ä–∞–∑–∞:

```js
runPacMan();
runPacMan();
```

* ‚ùì –°–∫–æ–ª—å–∫–æ —Ç–µ–ø–µ—Ä—å –ü–∞–∫–º–∞–Ω–æ–≤ —Ç—ã –≤–∏–¥–∏—à—å?
* ‚ùì –°–º–æ–≥ –±—ã —Ç—ã –±–µ–∑ –∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–Ω–æ–≥–æ –ü–∞–∫–º–∞–Ω–æ–≤?

## +5. –≠–≤–µ–π—Ç & –∞—Å–∏–Ω–∫

–ö–∞–∫ —Ç–µ–±–µ —Ç–∞–∫–æ–π –∫–æ–¥? –ù—Ä–∞–≤–∏—Ç—Å—è?

```js
console.log('start');
promise1().then(() => {
    promise2().then(() => {
        promise3().then(() => {
            promise4().then(() => {
                promise5().then(() => {
                    console.log('finish');
                });
            });
        });
    });
});
```

–ê, —á—Ç–æ –µ—Å–ª–∏ –º–æ–∂–Ω–æ —Ç–∞–∫?

```js
console.log('start');
await promise1();
await promise2();
await promise3();
await promise4();
await promise5();
console.log('finish');
```
- [x] –ü–µ—Ä–µ–ø–∏—à–∏ –∫–æ–¥ –±–æ—Ç–∞:

```js
console.log('start');
const boris = new PacMan(0, 120);
let walked = 0;
const runBot = async () => {
    const { steps, finish } = await boris.runWhileCan();
    walked += steps;
    const rnd = Math.round(Math.random() * 10);
    if (!finish) {
        if (rnd % 2 > 0) {
            boris.turnRight();
        } else {
            boris.turnLeft();
        }
        runBot();
    } else {
        console.log('finish with', walked, 'steps');
    }
};
runBot();
```

* ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ `await`?

## +6. –û—á–µ—Ä–µ–¥—å –æ–±–µ—â–∞–Ω–∏–π

–Ø –æ–±–µ—â–∞—é –æ–±–µ—â–∞—Ç—å –∏ –æ–±–µ—â–∞—é, —á—Ç–æ –±—É–¥—É –æ–±–µ—â–∞—Ç—å!

- [x] –û–±–Ω–æ–≤–∏ –∫–æ–¥ `runPacMan`

```js
console.log('start');
const wrap = (func) =>
    new Promise((done) => {
        func();
        done();
    });
const boris = new PacMan(20, 20);
const queue = [];

queue.push(() => boris.runWhileCan());
queue.push(() => wrap(() => boris.turnRight()));
queue.push(() => boris.runWhileCan());

let step = 0;
const process = () => {
    const promise = queue[step];
    promise().then(() => {
        step += 1;
        if (step < queue.length) {
            process();
        } else {
            console.log('finish');
        }
    });
};
process();
```

* ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ `queue`?
* ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ `wrap`?

- [x] –î–æ–±–∞–≤—å –≤ –æ—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥, —á—Ç–æ –±—ã –ü–∞–∫–º–∞–Ω –Ω–∞—à–µ–ª —è–±–ª–æ–∫–æ.

# üôè –§–∏–¥–±–µ–∫ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞

<import from="/partials/tutorial_feedback.md"></import>